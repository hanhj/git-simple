101
链路层：
包括传输帧格式和传输规则
传输帧格式有两种固定帧和可变帧。可变帧包括asdu（用户应用数据），固定帧不包括asdu
传输模式可采用平衡或非平衡方式。
如果主站与子站之间共用一条物理通道，必须采用非平衡方式。
传输规则包括发送/无回答，发送/确认，请求/响应。
每一轮传输服务必须在前一轮传输服务结束之后才能发起。
链路层包括链路控制和链路地址。
传输规则包括在链路控制中。
链路地址必须是唯一的。
T0是启动站的超时时间，Trp是从动站最大响应时间。

s1：发送/无回答服务
正常流：
启动站
1。master接受到请求后，向链路层发送请求。
2。链路层判断链路层是否可用，如果不可用，向master返回否定应答。
3。物理层发送该帧。结束此次服务。
从动站
1。slave链路层接受到请求后，指示用户。
异常流1：
master接受到请求后，链路层不可用（链路断开或出错），链路层向master报告否定应答。

s2：发送/确认服务
正常流：
启动站：
1。master接受到请求后，向链路层发送该请求。
2。链路层判断链路层是否可用，如果不可用，向master返回否定应答。
3。链路层改变fcb，置位fcv。链路层保存fcb，保存该帧。
4。物理层发送该帧。
5。链路层启动Trp计时器。
6。链路层接受从动站发来的应答帧，如果返回确认帧，向master指示确认，如果返回否定帧，向master指示否定。结束trp计时器。
从动站：
1。slave链路层接受到请求后，判断fcv是否有效。
2  链路层fcv如果有效，
	2.1比较接受的fcb与上一次传输保存的fcb。
		2.1.1 如果比较结果不一致，如果slave可以接受该请求，向链路层返回确认短帧。如果slave不可以接受该请求，则像链路层返回否定短帧。
		2.1.2 slave链路层保存此次fcb。
		2.1.3 slave链路层保存此次应答帧。
	2.2 如果比较结果一致，重发上次保存的应答帧。
3  链路层fcv如果无效，
	3.1 如果slave可以接受该请求，链路层返回确认短帧。如果slave不可以接受该请求，则链路层返回否定短帧。

异常流：
启动站：
1。链路层Trp计时器超时，未接收到从动站发来的应答帧，链路层重发请求帧，重发计数加1。
1.1链路层如果到达重发计数次数，链路层进入链路初始化过程。

s3：请求/响应服务
正常流：
1。master接受到请求后，向链路层发送请求。
2。链路层判断链路层是否可用，如果不可用，向master返回否定应答。
3。链路层改变fcb，置位fcv。链路层保存fcb，保存该帧。
4。物理层发送该帧。
5。链路层启动Trp计时器。
6。链路层接受从动站发来的应答帧，如果返回肯定确认帧，向master指示确认，如果返回否定确认帧，向master指示否定。结束trp计时器。
从动站：
1。slave链路层接受到请求后，判断fcv是否有效。
2  如果fcv有效，
	2.1比较接受的fcb与上一次传输保存的fcb。
		2.1.1 如果比较结果不一致，如果slave有数据可以传输，向链路层返回肯定响应帧。如果slave不可以接受该请求，则像链路层返回否定响应帧。
		2.1.2 slave链路层保存此次fcb。
		2.1.3 slave链路层保存此次应答帧。
	2.2 如果比较结果一致，重发上次保存的应答帧。
3   如果fcv无效，
	3.1 如果slave有数据可以传输，向链路层返回肯定响应帧。如果slave不可以接受该请求，则像链路层返回否定响应帧。
	
异常流：
启动站：
1。链路层Trp计时器超时，未接收到从动站发来的应答帧，链路层重发请求帧，重发计数加1。
1.1链路层如果到达重发计数次数，链路层进入链路初始化过程。


非平衡传输：

链路控制字
		|-------------------------------------------|
启动站	|res	|prm=1	|fcb	|fcv	|code		|
从动站	|res	|prm=0	|acd	|dfc	|code		|
		|-------------------------------------------|

fcb用于发送/确认，请求/响应服务。
acd用于从动站请求发送1级数据。
1级数据用于传输事件或高优先级数据。2级数据用于阐述循环传输或低优先级数据。

非平衡传输用到的服务包括s1,s2,s3：
服务				功能码			服务类型			fcv		从动站功能码		
复位链路			0				s2					0		0 认可,1 否定		
复位用户进程		1				s2					0		0,1					
发送/确认用户数据	3				s2					1		0,1					
发送/无回答用户数据	4				s1					0							
请求链路状态		8				s3					0		11					
请求链路状态		9				s3					0		11					
请求1级数据			10				s3					1		8 有数据 ，9 无数据
请求2级数据			11				s3					1		8,9					

传输服务：
非平衡传输服务由启动站发起。

s1：发送/无回答过程
1。遵循s1服务过程，启动站发送数据，从动站不用回答。

s2：发送/确认过程
1。遵循s2服务过程。
正常流：
1。启动站发送数据
2。从动站返回应答。
3。如果从动站有1级数据需要发送，则在应答中置位acd。
异常流1：发送受干扰，启动站发送数据未到达从动站或出错。
1。启动站发送数据。但是发送收到干扰，从动站未收到。
2。发送超时后，启动站重传该帧（fcb未变）。
3。重传次数超过，则进入链路初始化过程。否则重传次数+1。
异常流2：确认受干扰：从动站发送的应答帧出错或未被启动站接受。
1。从动站收到启动站发送的fcb未变化帧。
2。从动站发送上一次保存的确认帧。

s3： 请求/响应过程：
正常流：
1。 启动站发送请求帧
2。 如果从动站无请求数据，返回否定认可短帧。
3。 启动站发送请求1级数据帧。
3.1 如果从动站有一级数据，返回一级数据。如果有后续的数据，acd置位。
3.2 启动站fcb翻转，继续召唤1级数据。
4。 启动站发送请求2级数据帧。
4.1 如果从动站有2级数据，返回二级数据。
4.2 如果从动站有1级数据，在返回帧中acd置位。

异常流1： 启动站请求帧受干扰
启动站：
启动站Trp超时后，不改变fcb，重传请求帧。
异常流2： 响应帧受干扰。
从动站：
1。从动站收到重复的请求帧。
2。 从动站发送上一次保存的响应帧。




平衡传输：

链路控制字
		|-------------------------------------------|
启动站	|dir	|prm=1	|fcb	|fcv	|code		|
从动站	|dir	|prm=0	|res	|dfc	|code		|
		|-------------------------------------------|
dir 用于物理方向，0表示从主站到终端，1表示从终端到主站
平衡传输用到的服务包括s1,s2,s3
服务				功能码			服务类型			fcv				从动站功能码
复位链路			0				s2					0               0 认可,1 否定
复位用户进程		1				s2					0               0,1					
发送/确认链路测试	2				s2					1,在细则中为0   0,1			
发送/确认用户数据	3				s2					1				0,1
发送/无回答用户数据	4				s1					0             
请求链路状态		9				s3					0               11				

传输服务                                                                    					
平衡传输可由通讯双方发起。

s1：发送/无回答
遵循s1服务过程
通讯双发各自独立的使用两个通道

s2： 发送/确认过程
遵循s2服务过程。
通讯双方可可自独立启动发送过程。
每次收到确认帧后才能进行下一次发送服务
正常流：
1。启动站检查服务完成标志，如果置位，发送数据帧，并清除完成标志，启动Trp计时器。否则返回。
2。从动站接收数据帧。
3。如果从动站可接受数据，从动站发送肯定确认，否则发送否定确认。
4。启动站接收到确认帧后，置位完成服务标志，停止Trp计时器。
异常流1：受数据流控制的发送
1。启动站检查服务完成标志，如果置位，发送数据帧，并清除完成标志，启动Trp计时器。否则返回。
2。从动站接收数据帧。
3。如果从动站可接受数据，从动站发送肯定确认，否则发送否定确认。
4。 如果从动站接收后续数据将引起溢出，置位dfc标志
5。启动站接受到确认帧后，置位完成服务标志，停止Trp计时器。
6。 启动站检查dfc标志，如果置位，发送请求链路状态帧，直到收到dfc标志为0的响应帧。

异常流2：启动站发送帧受干扰
1。启动站检查服务完成标志，如果置位，发送数据帧，并清除完成标志,启动Trp计时器。否则返回。
2。从动站接收数据帧。
3。如果从动站可接受数据，从动站发送肯定确认，否则发送否定确认。
4。启动站在Trp超时后未接收到确认帧，重复发送保存的发送帧。
5。如果在给定的重复次数内收到确认帧，置位完成服务标志，停止Trp计时器。
6。如果超过给定的重复次数未收到确认帧，进入链路初始化过程。
异常流3：从动站发送的确认帧受干扰
1。启动站发送发送帧。
2。启动站未收到从动站发送的确认帧。
3。启动站经过Trp延时后重发发送帧。
4。从动站发送保存的确认帧。

细则中规定：
发送/确认服务 重传时间1s，重传次数3次。
请求/响应服务 重传时间10s，重传次数3次。
重传次数可以是启动方，也可以是从动方。
当重传次数到3，双方都认为链路中断。
非平衡传输
	主站发送链路请求帧，重新进行链路初始化操作。
	终端不发送数据，等待主站链路初始化命令。
平衡传输	
	主站发送链路请求帧，重新进行链路初始化操作。
	如果终端无事件数据，终端不发送数据，等待主站链路初始化命令。
	如果终端有事件数据，终端发送链路请求帧，进行链路初始化操作。主站总召唤后，上送事件数据。
	（这个过程，可以是：终端无论有无事件数据，判断链路断开后，都不发送数据，等待主站链路初始化命令，然后待链路初始化完成，再发送事件数据（如果有））


应用层
类型标识：
标识		说明
1-44		监视方向过程信息，终端的事件，测量值，累积量信息，
			非平衡传输采用s3服务招读，
			平衡传输采用s2服务发送。
			例如
			1	不带时标的单点信息
			2	不带时标的双点信息
			9	归一化值
			11	标度化值
			13	短浮点数
			30	cp56time2a格式的单点信息
			31	cp56time2a格式的双点信息
			
			归一化值：
			归一值=真实值/双方协定的最大值*32767
			真实值=归一值/32767*双方协定的最大值
			
45-69		控制方向过程命令，主站控制，设定值。
			非平衡传输和平衡传输均采用s2服务。但是监视方向需要将数据镜像返回控制方向，通过传输原因来区分。
			例如
			45	单点命令，
			46	双点命令
70-79		监视方向系统信息：
			采用s2服务
			例如
			70	初始化结束。
100-109		控制方向系统命令
			非平衡传输和平衡传输均采用s2服务。但是监视方向需要将数据镜像返回控制方向，通过传输原因来区分。
			例如
			100 总召唤
			101	计数量召唤
			102	读命令
			103	时钟同步
			104	测试命令
			105	复位进程
			106	延时获得
110-119		控制方向参数命令
			非平衡传输和平衡传输均采用s2服务。但是监视方向需要将数据镜像返回控制方向，通过传输原因来区分。	
			例如：
			110	测量值参数，归一化值
			111	测量值参数，标度化
			112	测量值参数，短浮点数
			113	参数激活。
120-127		文件传输
			非平衡传输和平衡传输均采用s2服务。但是监视方向需要将数据镜像返回控制方向，通过传输原因来区分。
			例如：
			120	文件准备就绪
			121	节准备就绪
			122	召唤目录，选择文件，召唤文件
			123	最后的节，最后的段
			124	认可文件，认可节
			125	段
			126	目录

可变结构限定词：VSQ						
1-7位表示数量
8位表示信息元素的地址是否连续。
	0表示后续的每个信息元素由信息地址+信息元素内容构成。
	1表示后续的信息元素地址是连续的，信息元素地址是第一个信息元素的地址，后续元素地址依次加1。例如：
	|82 			|00 		00 		|01 		00 		|01 			|01
	|vsq：sq=1，N=2	|SendCause			|first addr			|first data		|second data

传送原因SendCause
用来进一步描述数据意义
标识		说明
1			周期
2			背景扫描
3			突发
4			初始化
5			请求或被请求
6			激活
7			激活确认
8			停止激活
9			停止激活确认
10			激活终止
13			文件传输
20			响应总召唤
21-36		响应组1-16召唤
37			响应累积量召唤
38-41		响应累积量组1-4召唤
44			未知类型标识
45			未知传送原因
46			未知应用服务公共地址
47			未知信息对象地址


应用过程
链路初始化过程：
	非平衡传输过程：
	1	主站发送prm=1 	fc9					请求链路		请求
	2	终端发送prm=0 	fc11				响应			响应
	3	主站发送prm=1	fc0					复位链路		发送
	4	终端发送prm=0	fc=0,acd=1			确认			确认
	5	主站发送prm=1，	fc10，				召唤一级数据	请求
	6	终端发送prm=0，fc8，ti=70，cause=4，	初始化结束响应帧	响应
	开始总招，对时。。。
	
	平衡传输过程：
	1	主站发送prm=1 	fc9		请求链路		请求
	2	终端发送prm=0 	fc11	响应			响应
	3	主站发送prm=1	fc0		复位链路		发送
	4	终端发送prm=0	fc=0,	确认			确认
	5	终端发送prm=1，	fc9		请求链路		请求
	6	主站发送prm=0	fc11	响应
	7	终端发送prm=1	fc=0	复位链路
	8	主站发送prm=0	fc0		确认
	9	终端发送prm=1	fc3，ti=70，cause=4， 	初始化结束响应帧	响应
	10	主站发送prm=0	fc0		确认
	初始化结束
	开始总招，对时。。。
	
	
总召唤过程：
	非平衡传输过程：
	1.	主站发送prm=1，fc=3，ti=100，cause=6，qoi=20		总召唤激活，qoi召唤限定词20是总召唤
	2.	终端发送prm=0，fc=0，acd=1							确认
	3	主站发送prm=1，fc=10								召唤一级数据
	4	终端发送prm=0，fc8，acd=1，ti=100,cause=7,qoi=20	总召唤激活确认
	5	主站发送prm=1，fc=10								召唤一级数据
	6	终端发送prm=0	fc=8，acd=1，ti=1/9/11/13,cause=20	响应	
	7	主站发送prm=1，fc=10								召唤一级数据
	8	终端发送prm=0	fc=8，acd=1，ti=1/9/11/13,cause=20	响应	
	。。。
	n	主站发送prm=1，fc=10								召唤一级数据
	n+1	终端发送prm=0	fc=8，acd=0，ti=100,cause=10,qoi=20	召唤激活终止，召唤结束
	
	平衡传输过程：
	1.	主站发送prm=1，fc=3，ti=100，cause=6，qoi=20	总召唤激活
	2.	终端发送prm=0，fc=0								确认
	3	终端发送prm=1，fc=3，ti=100,cause=7,qoi=20		总召唤激活确认
	4.	主站发送prm=0，fc=0								确认
	5	终端发送prm=1	fc=3，ti=1/9/11/13,cause=20		发送
	6.	主站发送prm=0，fc=0								确认
	。。。
	n	终端发送prm=1	fc=3，ti=100,cause=10,qoi=20	召唤激活终止，召唤结束
	n+1	主站发送prm=0，fc=0							确认
	
时钟同步过程：
	非平衡过程
	1	主站发送prm=1，fc=3，ti=103，cause=6，	对时激活
	2	终端发送prm=0，fc=0						确认
	3	主站发送prm=1，fc=11					召唤二级数据
	4	终端发送prm=0，fc=8，ti=103，cause=7	对时激活确认
	平衡过程
	1	主站发送prm=1，fc=3，ti=103，cause=6，	对时激活
	2	终端发送prm=0，fc=0						确认
	3	终端发送prm=1，fc=3，ti=103，cause=7	对时激活确认
	4	主站发送prm=0，fc=0						确认
时钟读取过程
	非平衡过程
	1	主站发送prm=1，fc=3，ti=103，cause=5，	时钟请求
	2	终端发送prm=0，fc=0						确认
	3	主站发送prm=1，fc=11					召唤二级数据
	4	终端发送prm=0，fc=8，ti=103，cause=5	时钟请求确认
	平衡过程
	1	主站发送prm=1，fc=3，ti=103，cause=5，	时钟请求
	2	终端发送prm=0，fc=0						确认
	3	终端发送prm=1，fc=3，ti=103，cause=5	发送时钟请求响应
	4	主站发送prm=0，fc=0						时钟请求确认

遥控过程：
	非平衡过程：
	1	主站发送prm=1，fc=3，ti=45/46，cause=6，s/e=1	遥控激活
	2	终端发送prm=0，fc=0，acd=1						确认
	3	主站发送prm=1，fc=10							召唤一级数据
	4	终端发送prm=0，fc=8，ti=45/46,cause=7,s/e=1		遥控激活确认，终端启动遥控命令计时器
（可选）	5	主站发送prm=1，fc=3，ti=45/46，cause=8，s/e=0	遥控取消
（可选）	6	终端发送prm=0，fc=0，acd=1,						确认
（可选）	7	主站发送prm=1，fc=10							召唤一级数据
（可选）	8	终端发送prm=0，fc=8，ti=45/46，cause=9，s/e=0	遥控取消确认
	5	主站发送prm=1，fc=3，ti=45/46，cause=6，s/e=0			遥控执行
	6	终端发送prm=0，fc=0，acd=1,						确认
	7	主站发送prm=1，fc=10							召唤一级数据
	8	终端发送prm=0，fc=8，ti=45/46，cause=7，s/e=0	遥控执行确认

	平衡过程：
	1	主站发送prm=1，fc=3，ti=45/46，cause=6，s/e=1	遥控激活
	2	终端发送prm=0，fc=0								确认
	3	终端发送prm=1，fc=3，ti=45/46,cause=7,s/e=1		遥控激活确认，终端启动遥控命令计时器
	4	主站发送prm=0，fc=0								确认
（可选）	5	主站发送prm=1，fc=3，ti=45/46，cause=8，s/e=0	遥控取消
（可选）	6	终端发送prm=0，fc=0，							确认
（可选）	7	终端发送prm=1，fc=3，ti=45/46，cause=9，s/e=0	遥控取消确认
（可选）	8	主站发送prm=0，fc=0，							确认
	5	主站发送prm=1，fc=3，ti=45/46，cause=6，s/e=0	遥控执行
	6	终端发送prm=0，fc=0								确认
	7	终端发送prm=1，fc=3，ti=45/46，cause=7，s/e=0	遥控执行确认
	8	主站发送prm=0，fc=0								确认
	
	如果计时器超时（默认60s），未收到遥控撤销或执行命令，终端退回到未选择状态。
	如果在超时时间内，再次收到选择命令，终端退回到未选择状态。
	电池活化和软压板投退遵循同样过程。
	
	
事件传输过程：
	非平衡传输：
	非平衡传输过程中，终端不能主动上送事件，由主站通过招读1级或2级数据时上送。
	如果终端有事件，则返回事件数据，否则返回否定。
	1	主站发送prm=1，fc=10					召唤一级数据
	2	终端返回prm=0，fc=8 ，ti=30/31,cause=3	终端有一级数据
	
	1.	主站发送prm=1，fc=11					召唤二级数据
	2	终端返回prm=0，fc=8，acd=1 				终端有一级，二级数据
	3.	主站发送prm=1，fc=10					召唤一级数据
	4	终端返回prm=0，fc=8，ti=30/31,cause=3	响应
	
	1.	主站发送prm=1，fc=11					召唤二级数据
	2	终端返回prm=0，fc=8，ti=30/31,cause=3 	终端只有一级数据
	
	平衡传输过程
	1	终端发送prm=1，fc=3，ti=30/31，cause=3	发送
	2	主站发送prm=0，fc=0.					确认
	
	事件数据为带时标信息，不带时标信息只有在总召唤的时候使用。	
	
链路测试过程
	链路测试过程终端原样返回主站发来的数据。
	非平衡过程
	1.	主站发送prm=1，fc=3，ti=104，cause=6	发送测试命令
	2	终端返回prm=0，fc=0						确认
	3	主站发送prm=1，fc=11					招读二级数据
	4	终端返回prm=0，fc=8，ti=104，cause=7	确认测试。
	平衡过程：
	1.	主站发送prm=1，fc=3，ti=104，cause=6	
	2.	终端返回prm=0，fc=0						确认
	3.	终端发送prm=1，fc=3，ti=104，cause=7	确认测试
	4	主站返回prm=0，fc=0						确认
	
心跳过程
	1.	主站发送prm=1，fc=2
	2	终端返回prm=0，fc=0

遥测过程
	终端仅上送变化遥测数据
	非平衡过程
	1	主站发送prm=1，fc=11					招读2级数据
	2	终端返回prm=0，fc=8，ti=9/11/13	cause=3	
	平衡过程
	1	终端上送prm=1，fc=3，ti=9/11/13，cause=3
	2	主站返回prm=0，fc=0		确认

复位进程过程
	终端在收到复位进程命令后，回复确认后再重启。
	非平衡过程
	1.	主站发送prm=1，fc=3，ti=105，cause=6	激活
	2	终端返回prm=0，fc=0，acd=1
	3	主站发送prm=1，fc=10	招读1级数据
	4	终端返回prm=0，fc=0，ti=105，cause=7	确认，重启
	平衡过程
	1	主站发送prm=1，fc=3，ti=105，cause=6	激活
	2	终端返回prm=0，fc=0
	3	终端发送prm=1，fc=3，ti=105，cause=7	确认
	4	主站返回prm=0，fc=0						重启
	
读文件目录过程（细则）
	非平衡过程
	1	主站发送prm=1，fc=3，ti=210，cause=5，act=1	请求	act是操作符参见细则7.6.3.1-3中描述
	2	终端发送prm=0，fc=0	确认
	3	主站发送prm=1，fc=11	召唤二级数据
	4	终端发送prm=0，fc=8，ti=210，cause=5，act=2	响应
	平衡过程
	1	主站发送prm=1，fc=3，ti=210，cause=5，act=1
	2	终端发送prm=0，fc=0
	3	终端发送prm=1，fc=3，ti=210，cause=5，act=2
	4	主站发送prm=0，fc=0

读文件过程（细则）
	非平衡过程
	1	主站发送prm=1，fc=3，ti=210，cause=6，act=3	激活
	2	终端发送prm=0，fc=0							确认
	3	主站发送prm=1，fc=11 						召唤二级数据
	4	终端发送prm=0，fc=8，ti=210，cause=7，act=4	激活确认
	5	主站发送prm=1，fc=11						请求二级数据
	6	终端发送prm=0，fc=8，ti=210，cause=5，act=5	响应，传输文件
	7	主站发送prm=1，fc=3，ti=210，cause=5，act=6	确认传输
	8	终端发送prm=0，fc=0							终端确认
	。。。主站继续招读二级数据
	招读完毕，终端对二级数据返回否定
	平衡过程：
	1.	主站发送prm=1，fc=3，ti=210，cause=6，act=3	激活
	2	终端发送prm=0，fc=0
	3	终端发送prm=1，fc=3，ti=210，cause=7，act=4	激活确认
	4	主站发送prm=0，fc=0	确认
	5	终端发送prm=1，fc=3，ti=210，cause=5，act=5	传输文件
	6	主站发送prm=0，fc=0
	7	主站发送prm=1，fc=3，ti=210，cause=5，act=6	确认传输
	8	终端发送prm=0，fc=0	确认
	。。。终端继续发送文件
	文件以。7z格式保存

写文件过程（细则）
	非平衡过程
	1	主站发送prm=1，fc=3，ti=210，cause=6，act=7	激活
	2	终端发送prm=0，fc=0							确认
	3	主站发送prm=1，fc=11 						召唤二级数据
	4	终端发送prm=0，fc=8，ti=210，cause=7，act=8	激活确认
	5	主站发送prm=1，fc=3，ti=210，cause=5，act=9	写文件
	6	终端发送prm=0，fc=0							确认
	7	主站发送prm=1，fc=11						请求二级数据
	6	终端发送prm=0，fc=8，ti=210，cause=5，act=10响应，确认写文件
	。。。主站继续下发文件
	平衡过程
	1.	主站发送prm=1，fc=3，ti=210，cause=6，act=3	激活
	2	终端发送prm=0，fc=0
	3	终端发送prm=1，fc=3，ti=210，cause=7，act=4	激活确认
	4	主站发送prm=0，fc=0	确认
	5	主站发送prm=1，fc=3，ti=210，cause=5，act=9	传输文件
	6	终端发送prm=0，fc=0
	7	终端发送prm=1，fc=3，ti=210，cause=5，act=10确认传输
	8	主站发送prm=0，fc=0	确认
	。。。主站继续发送文件
		
读定值区过程（细则）
	非平衡过程
	1	主站发送prm=1，fc=3，ti=201，cause=6
	2	终端发送prm=0，fc=0，acd=1
	3	主站发送prm=1，fc=10	请求一级数据
	4	终端发送prm=0，fc=8	ti=201，cause=7	
	平衡过程
	1	主站发送prm=1，fc=3，ti=201，cause=6
	2	终端发送prm=0，fc=0
	3	终端发送prm=1，fc=3，ti=201，cause=7
	4	主站发送prm=0，fc=0
读参数过程（细则）
	非平衡过程	
	1	主站发送prm=1，fc=3，ti=202，cause=6
	2	终端发送prm=0，fc=0，acd=1
	3	主站发送prm=1，fc=10	请求一级数据
	4	终端发送prm=0，fc=8	ti=202，cause=7	
	平衡过程
	1	主站发送prm=1，fc=3，ti=202，cause=6
	2	终端发送prm=0，fc=0
	3	终端发送prm=1，fc=3，ti=202，cause=7
	4	主站发送prm=0，fc=0
定值区切换过程（细则）
	1	主站发送prm=1，fc=3，ti=200，cause=6
	2	终端发送prm=0，fc=0，acd=1
	3	主站发送prm=1，fc=10	请求一级数据
	4	终端发送prm=0，fc=8	ti=200，cause=7	
	平衡过程
	1	主站发送prm=1，fc=3，ti=200，cause=6
	2	终端发送prm=0，fc=0
	3	终端发送prm=1，fc=3，ti=200，cause=7
	4	主站发送prm=0，fc=0

参数修改过程（细则）
	非平衡过程：
	1	主站发送prm=1，fc=3，ti=203，cause=6，s/e=1，cr=0	参数激活	s/e,cr是信息中的性质控制字，类似于遥控命令中的控制描述字，cr表示1取消，其他未定义
	2	终端发送prm=0，fc=0，acd=1							确认
	3	主站发送prm=1，fc=10								召唤一级数据
	4	终端发送prm=0，fc=8，ti=203,cause=7,s/e=1,cr=0		参数激活确认，终端启动参数命令计时器
（可选）	5	主站发送prm=1，fc=3，ti=203，cause=8，s/e=0,cr=1	参数取消
（可选）	6	终端发送prm=0，fc=0，acd=1,							确认
（可选）	7	主站发送prm=1，fc=10								召唤一级数据
（可选）	8	终端发送prm=0，fc=8，ti=203，cause=9，s/e=0,cr=1	参数取消确认
	5	主站发送prm=1，fc=3，ti=203，cause=6，s/e=0,cr=0	参数执行
	6	终端发送prm=0，fc=0，acd=1,							确认
	7	主站发送prm=1，fc=10								召唤一级数据
	8	终端发送prm=0，fc=8，ti=203，cause=7，s/e=0,cr=0	参数执行确认

	平衡过程：
	1	主站发送prm=1，fc=3，ti=203，cause=6，s/e=1,cr=0	参数激活
	2	终端发送prm=0，fc=0									确认
	3	终端发送prm=1，fc=3，ti=203,cause=7,s/e=1,cr=0		参数激活确认，终端启动参数命令计时器
	4	主站发送prm=0，fc=0									确认
（可选）	5	主站发送prm=1，fc=3，ti=203，cause=8，s/e=0,cr=1	参数取消
（可选）	6	终端发送prm=0，fc=0，								确认
（可选）	7	终端发送prm=1，fc=3，ti=203，cause=9，s/e=0,cr=1	参数取消确认
（可选）	8	主站发送prm=0，fc=0，								确认
	5	主站发送prm=1，fc=3，ti=203，cause=6，s/e=0,cr=0			参数执行
	6	终端发送prm=0，fc=0									确认
	7	终端发送prm=1，fc=3，ti=203，cause=7，s/e=0,cr=0	参数执行确认
	8	主站发送prm=0，fc=0				

召唤累积量过程（细则）
	类似于总召唤过程		
	非平衡过程：
	1.	主站发送prm=1，fc=3，ti=101，cause=6，qcc=5			总召唤激活，qcc召唤限定词5是总召唤
	2.	终端发送prm=0，fc=0，acd=1							确认
	3	主站发送prm=1，fc=10								召唤一级数据
	4	终端发送prm=0，fc8，acd=1，ti=101,cause=7,qcc=5		总召唤激活确认
	5	主站发送prm=1，fc=10								召唤一级数据
	6	终端发送prm=0	fc=8，acd=1，ti=206,cause=37		响应	
	7	主站发送prm=1，fc=10								召唤一级数据
	8	终端发送prm=0	fc=8，acd=1，ti=206,cause=37		响应	
	。。。
	n	主站发送prm=1，fc=10								召唤一级数据
	n+1	终端发送prm=0	fc=8，acd=0，ti=101,cause=10,qcc=5	召唤激活终止，召唤结束
	
	平衡过程：
	1.	主站发送prm=1，fc=3，ti=101，cause=6，qcc=5			总召唤激活
	2.	终端发送prm=0，fc=0									确认
	3	终端发送prm=1，fc=3，ti=101,cause=7,qcc=5			总召唤激活确认
	4.	主站发送prm=0，fc=0									确认
	5	终端发送prm=1	fc=3，ti=206,cause=37				发送
	6.	主站发送prm=0，fc=0									确认
	。。。
	n	终端发送prm=1	fc=3，ti=101,cause=10,qcc=5			召唤激活终止，召唤结束
	n+1	主站发送prm=0，fc=0									确认

远程升级过程（细则）
	非平衡过程
	1	主站发送prm=1，fc=3，ti=211，cause=6，s/e=1			启动升级。s/e是命令控制字1表示启动升级，0表示终止升级
	2	终端发送prm=0，fc=0									确认
	3	主站发送prm=1，fc=11								召唤二级数据
	4	终端发送prm=0，fc=8，ti=211，cause=7，s/e=1			确认启动升级	
	5	主站开始文件传输过程ti=210
		。。。
	6	主站发送prm=1，fc=3，ti=211，cause=6，s/e=0			结束升级
	7	终端发送prm=0，fc=0									确认
	8	主站发送prm=1，fc=11								召唤二级数据
	9	终端发送prm=0，fc=8，ti=211，cause=7，s/e=0			确认结束升级
	平衡过程
	1	主站发送prm=1，fc=3，ti=211，cause=6，s/e=1			启动升级
	2	终端发送prm=0，fc=0									确认
	3	终端发送prm=1，fc=3，ti=211，cause=7，s/e=1			确认启动升级
	4	主站发送prm=0，fc=0									确认
	5	主站开始文件传输过程ti=210
		。。。
	6	主站发送prm=1，fc=3，ti=211，cause=6，s/e=0			结束升级
	7	终端发送prm=0，fc=0									确认
	8	终端发送prm=1，fc=3，ti=211，cause=7，s/e=0			确认结束升级
	9	主站发送prm=0，fc=0									确认	
	
	
启动站：
1。复位fcb，fcv，链路状态标志。
2。启动Trp计时器。
3。发送链路查询帧fc9
4. 判断是否收到fc11，dfc=0应答帧
4.1 如果收到
	4.1.1 发送复位链路帧fc0。
	4.1.2 判断是否收到fc0，ack帧
	4.1.2.1 如果收到，置位链路状态标志，清Trp计时器
	4.1.2.2 如果未收到，超时时间到，重复次数+1，如果重复次数到3，清重复次数，跳转3。否则清Trp计时器并跳转4.1.1
4.2 如果未收到链路查询应答帧，超时时间到，重复次数+1，如果重复次数到3，清重复次数，跳转3。否则清Trp计时器并跳转3
从动站：
1。初始化，复位fcb，fcv，链路状态。
2。 接受到fc9，发送fc11。
3。 接受到fc0，发送fc0确认，复位fcb，fcv，置位链路状态。
	
